#include "./headers/commonHeaders.h"
typedef long long ll;
ll getSide(ll x1, ll y1, ll x2, ll y2, ll xp, ll yp)
{
    return (x2 - x1) * (yp - y1) - (y2 - y1) * (xp - x1);
}

bool pointLiesInside(vector<int> &A, vector<int> &B, int xp, int yp)
{
    int side = 0;
    int i = 0;
    while (i < 4)
    {
        int x1 = A[i];
        int y1 = B[i];
        int x2 = A[(i + 1) % 4];
        int y2 = B[(i + 1) % 4];
        int xt = A[(i + 2) % 4];
        int yt = B[(i + 2) % 4];
        auto sideRect = getSide(x1, y1, x2, y2, xt, yt);
        auto sidePoint = getSide(x1, y1, x2, y2, xp, yp);
        if ((sidePoint == 0) || (sideRect < 0 && sidePoint > 0) || (sideRect > 0 && sidePoint < 0))
            return false;
        i++;
    }
    return true;
}

int solve(vector<int> &A, vector<int> &B, vector<int> &C, vector<int> &D)
{
    int count = 0;
    for (int i = 0; i < C.size(); i++)
    {
        if (pointLiesInside(A, B, C[i], D[i]))
            count++;
    }
    return count;
}
void main()
{
    vector<int> A{757806, 870553, 1208794, 1096047};
    vector<int> B{750581, 637834, 976075, 1088822};
    vector<int> C{-960840, -955568, -948123, -944567, -932689, -909006, -899213, -872499, -816231, -815487, -745458, -733965, -731767, -724160, -674483, -668124, -638622, -626199, -601653, -558231, -555957, -545997, -544386, -543614, -535798, -534548, -515867, -476700, -475144, -469624, -458175, -438328, -417182, -381407, -371638, -337506, -329494, -310312, -294120, -293259, -286345, -239709, -236737, -226459, -101763, -95015, -92985, -45365, -39041, -16265, 14345, 20699, 43223, 59858, 80467, 155882, 178162, 185280, 219005, 232976, 270563, 279358, 282342, 289593, 290780, 317859, 329292, 341423, 361695, 393776, 422139, 433328, 444707, 470220, 508399, 509636, 516573, 532007, 537797, 541645, 542654, 606489, 609080, 614672, 617072, 619918, 626655, 690373, 721697, 723175, 750776, 763166, 771255, 814811, 829093, 887413, 898447, 908990, 923037, 935731};
    vector<int> D{-567401, -305898, -133127, 306804, -128699, 994624, -618554, -827823, 67682, 259449, 256638, 675439, 866179, 202790, -859640, -46451, -328534, 750143, 256970, -520372, -873728, 298573, -830382, 539967, -142881, 886848, -43491, -1859, -229702, 300055, 848590, -694308, -545489, 779474, 916511, -624980, 677863, 377492, 341491, -486602, 414689, 760790, 740840, -294549, -257631, -180968, -361856, -703029, -309178, -15868, -881165, 339541, -137928, -453872, -68725, -569599, -504392, 997206, -545062, 145377, -865567, 666039, -194872, 436167, 835283, -168730, 877227, 663200, -7680, -368684, -566371, 497670, -258796, 29626, -969593, 30447, -419927, -205084, -428907, -854872, 327835, -75951, -465094, -474657, 805466, 874210, 473763, -956825, -188138, -425076, -899816, 588745, -56595, 342698, 305541, 610272, -930175, 175954, 735343, 679916};
    cout << solve(A, B, C, D) << endl;
}
